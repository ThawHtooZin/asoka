@php
    $images = [
        'taunggu' => [
            ['image' => '/images/slide/one/1.png'],
            ['image' => '/images/slide/one/2.png'],
            ['image' => '/images/slide/one/3.png'],
            ['image' => '/images/slide/one/4.png'],
            ['image' => '/images/slide/one/5.png'],
            ['image' => '/images/slide/one/6.png'],
            ['image' => '/images/slide/one/7.png'],
            ['image' => '/images/slide/one/8.png'],
            ['image' => '/images/slide/one/9.png'],
            ['image' => '/images/slide/one/10.png'],
            ['image' => '/images/slide/one/11.png'],
            ['image' => '/images/slide/one/12.png'],
            ['image' => '/images/slide/one/13.png'],
            ['image' => '/images/slide/one/14.png'],
            ['image' => '/images/slide/one/15.png'],
            ['image' => '/images/slide/one/16.png'],
            ['image' => '/images/slide/one/17.png'],
            ['image' => '/images/slide/one/18.png'],
            ['image' => '/images/slide/one/19.png'],
            ['image' => '/images/slide/one/20.png'],
            ['image' => '/images/slide/one/21.png'],
            ['image' => '/images/slide/one/22.png'],
            ['image' => '/images/slide/one/23.png'],
            ['image' => '/images/slide/one/24.png'],
            ['image' => '/images/slide/one/25.png'],
            ['image' => '/images/slide/one/26.png'],
            ['image' => '/images/slide/one/27.png'],
            ['image' => '/images/slide/one/28.png'],
            ['image' => '/images/slide/one/29.png'],
            ['image' => '/images/slide/one/30.png'],
            ['image' => '/images/slide/one/31.png'],
            ['image' => '/images/slide/one/32.png'],
            ['image' => '/images/slide/one/33.png'],
        ],
        'innlay' => [
            ['image' => '/images/slide/two/1.jpg'],
            ['image' => '/images/slide/two/2.jpg'],
            ['image' => '/images/slide/two/3.jpg'],
            ['image' => '/images/slide/two/4.jpg'],
            ['image' => '/images/slide/two/5.jpg'],
            ['image' => '/images/slide/two/6.jpg'],
            ['image' => '/images/slide/two/7.jpg'],
            ['image' => '/images/slide/two/8.jpg'],
            ['image' => '/images/slide/two/9.jpg'],
            ['image' => '/images/slide/two/10.jpg'],
            ['image' => '/images/slide/two/11.jpg'],
            ['image' => '/images/slide/two/12.jpg'],
            ['image' => '/images/slide/two/13.jpg'],
            ['image' => '/images/slide/two/14.jpg'],
            ['image' => '/images/slide/two/15.jpg'],
            ['image' => '/images/slide/two/16.jpg'],
            ['image' => '/images/slide/two/17.jpg'],
            ['image' => '/images/slide/two/18.jpg'],
            ['image' => '/images/slide/two/19.jpg'],
            ['image' => '/images/slide/two/20.jpg'],
            ['image' => '/images/slide/two/21.jpg'],
            ['image' => '/images/slide/two/22.jpg'],
            ['image' => '/images/slide/two/23.jpg'],
            ['image' => '/images/slide/two/24.jpg'],
            ['image' => '/images/slide/two/25.jpg'],
            ['image' => '/images/slide/two/26.jpg'],
            ['image' => '/images/slide/two/27.jpg'],
            ['image' => '/images/slide/two/28.jpg'],
            ['image' => '/images/slide/two/29.jpg'],
            ['image' => '/images/slide/two/30.jpg'],
            ['image' => '/images/slide/two/31.jpg'],
            ['image' => '/images/slide/two/32.jpg'],
            ['image' => '/images/slide/two/33.jpg'],
            ['image' => '/images/slide/two/34.jpg'],
            ['image' => '/images/slide/two/35.jpg'],
            ['image' => '/images/slide/two/36.jpg'],
            ['image' => '/images/slide/two/37.jpg'],
            ['image' => '/images/slide/two/38.jpg'],
            ['image' => '/images/slide/two/39.jpg'],
            ['image' => '/images/slide/two/40.jpg'],
        ],
        'awards' => [
            ['image' => '/images/Awards/1.jpg'],
            ['image' => '/images/Awards/2.jpg'],
            ['image' => '/images/Awards/3.jpg'],
            ['image' => '/images/Awards/4.jpg'],
            ['image' => '/images/Awards/5.jpg'],
            ['image' => '/images/Awards/6.jpg'],
            ['image' => '/images/Awards/7.jpg'],
            ['image' => '/images/Awards/8.jpg'],
            ['image' => '/images/Awards/9.jpg'],
            ['image' => '/images/Awards/10.jpg'],
            ['image' => '/images/Awards/11.jpg'],
            ['image' => '/images/Awards/12.jpg'],
            ['image' => '/images/Awards/13.jpg'],
            ['image' => '/images/Awards/14.jpg'],
            ['image' => '/images/Awards/15.jpg'],
            ['image' => '/images/Awards/16.jpg'],
            ['image' => '/images/Awards/17.jpg'],
            ['image' => '/images/Awards/18.jpg'],
            ['image' => '/images/Awards/19.jpg'],
            ['image' => '/images/Awards/20.jpg'],
            ['image' => '/images/Awards/21.jpg'],
            ['image' => '/images/Awards/22.jpg'],
            ['image' => '/images/Awards/23.jpg'],
            ['image' => '/images/Awards/24.jpg'],
            ['image' => '/images/Awards/25.jpg'],
            ['image' => '/images/Awards/26.jpg'],
            ['image' => '/images/Awards/27.jpg'],
            ['image' => '/images/Awards/28.jpg'],
            ['image' => '/images/Awards/29.jpg'],
            ['image' => '/images/Awards/30.jpg'],
        ],
        'other' => [
            ['image' => '/images/leaf.jpg', 'info' => ''],
            ['image' => '/images/himalaya2.jpg'],
            ['image' => '/images/himalaya3.jpg'],
            ['image' => '/images/himalaya4.jpg'],
            ['image' => '/images/himalaya5.jpg'],
            ['image' => '/images/himalaya6.jpg'],
            ['image' => '/images/himalaya7.jpg'],
            ['image' => '/images/himalaya8.jpg'],
            ['image' => '/images/himalaya9.jpg'],
            ['image' => '/images/himalaya10.jpg'],
            ['image' => '/images/himalaya11.jpg'],
            ['image' => '/images/leaf2.jpg'],
            ['image' => '/images/leaf3.jpg'],
            ['image' => '/images/meditationinhimalaya.jpg'],
            ['image' => '/images/meditationinhimalaya1.jpg'],
            ['image' => '/images/gate.jpg'],
        ],
    ];
@endphp
<x-layout>
    <style>
        .filter-btn {
            background-color: #0018A8;
            color: #ffffff;
            padding: 0.75rem 1.5rem;
            font-weight: 600;
            border-radius: 8px;
            border: 2px solid #0018A8;
            transition: background-color 0.3s, transform 0.3s;
        }

        .filter-btn:hover {
            background-color: #00258D;
            transform: scale(1.05);
        }

        .filter-btn.active {
            background-color: #00258D;
            border-color: #00258D;
        }

        .filter-btn:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(0, 24, 168, 0.5);
        }


        .overlay {
            display: none;
        }

        .image-item {
            box-shadow: 2px 2px 2px red;
        }

        .active {
            background: #fee2e2;
            text-decoration: underline;
        }

        .image-item img {
            height: 180px;
        }
    </style>

    <div class="flex flex-wrap lg:flex-nowrap px-[1rem] py-[1rem]">
        <!-- Sidebar with Filter Buttons -->
        <div class="w-full lg:w-1/4 bg-gray-100 p-4 rounded-lg">
            <h2 class="text-center text-xl font-bold mb-4">Image Gallery For Asoka Center for Buddhist Studies</h2>
            <div class="flex flex-col gap-4">
                <button class="filter-btn active" data-filter="taunggu">တောင်ငူ ရေဘေးအလှူတော်</button>
                <button class="filter-btn" data-filter="innlay">အင်းလေး ရေဘေးအလှူတော်</button>
                <button class="filter-btn" data-filter="awards">Dr Saw Htut Sandar Awards</button>
                <button class="filter-btn" data-filter="other">Other Pictures</button>
            </div>
        </div>


        <!-- Image Gallery -->
        <div class="w-full lg:w-3/4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-6 lg:mt-0 p-3">
            @foreach ($images['taunggu'] as $taunggu)
                <div class="image-item p-2 rounded-lg overflow-hidden taunggu">
                    <div class="relative">
                        <img class="h-[100%] w-full object-cover cursor-pointer hover:scale-110 hover:rotate-3 hover:shadow-xl transition-transform duration-500"
                            src="{{ $taunggu['image'] }}" alt="">
                        <div
                            class="overlay absolute inset-0 bg-black bg-opacity-70 flex justify-center items-center transition-opacity duration-500 opacity-0 hover:opacity-100">
                            <p
                                class="text-white text-lg font-semibold transform scale-110 transition-transform duration-300">
                                @if (!empty($taunggu['info']))
                                    {{ $taunggu['info'] }}
                                @endif
                            </p>
                        </div>
                    </div>
                </div>
            @endforeach

            @foreach ($images['innlay'] as $innlay)
                <div class="image-item p-2 rounded-lg overflow-hidden innlay">
                    <div class="relative">
                        <img class="h-[100%] w-full object-cover cursor-pointer hover:scale-110 hover:rotate-3 hover:shadow-xl transition-transform duration-500"
                            src="{{ $innlay['image'] }}" alt="">
                        <div
                            class="overlay absolute inset-0 bg-black bg-opacity-70 flex justify-center items-center transition-opacity duration-500 opacity-0 hover:opacity-100">
                            <p
                                class="text-white text-lg font-semibold transform scale-110 transition-transform duration-300">
                                @if (!empty($innlay['info']))
                                    {{ $innlay['info'] }}
                                @endif
                            </p>
                        </div>
                    </div>
                </div>
            @endforeach

            @foreach ($images['awards'] as $award)
                <div class="image-item p-2 rounded-lg overflow-hidden awards">
                    <div class="relative">
                        <img class="h-[100%] w-full object-cover cursor-pointer hover:scale-110 hover:rotate-3 hover:shadow-xl transition-transform duration-500"
                            src="{{ $award['image'] }}" alt="">
                        <div
                            class="overlay absolute inset-0 bg-black bg-opacity-70 flex justify-center items-center transition-opacity duration-500 opacity-0 hover:opacity-100">
                            <p
                                class="text-white text-lg font-semibold transform scale-110 transition-transform duration-300">
                                @if (!empty($award['info']))
                                    {{ $award['info'] }}
                                @endif
                            </p>
                        </div>
                    </div>
                </div>
            @endforeach

            @foreach ($images['other'] as $other)
                <div class="image-item p-2 rounded-lg overflow-hidden other">
                    <div class="relative">
                        <img class="h-[100%] w-full object-cover cursor-pointer hover:scale-110 hover:rotate-3 hover:shadow-xl transition-transform duration-500"
                            src="{{ $other['image'] }}" alt="">
                        <div
                            class="overlay absolute inset-0 bg-black bg-opacity-70 flex justify-center items-center transition-opacity duration-500 opacity-0 hover:opacity-100">
                            <p
                                class="text-white text-lg font-semibold transform scale-110 transition-transform duration-300">
                                @if (!empty($other['info']))
                                    {{ $other['info'] }}
                                @endif
                            </p>
                        </div>
                    </div>
                </div>
            @endforeach
        </div>
    </div>

    <!-- Full Image Modal -->
    <div id="imageModal" class="fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 hidden">
        <button id="closeModal"
            class="absolute top-4 right-4 text-white text-lg font-semibold bg-gray-500 px-4 py-2 rounded hover:bg-gray-700 z-10"
            onclick="closeModal()">
            X
        </button>
        <div class="relative group w-full max-w-[55rem]">
            <div
                class="absolute inset-0 bg-black bg-opacity-50 text-white flex flex-col justify-center items-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-lg">
                <p class="text-sm" id="info">No Info Currently</p>
            </div>
            <img id="modalImage" src="" alt="Modal Image"
                class="w-full h-auto max-h-[80vh] object-contain rounded-lg">
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const filterButtons = document.querySelectorAll('.filter-btn');
            const imageItems = document.querySelectorAll('.image-item');
            const imageModal = document.getElementById('imageModal');
            const modalImage = document.getElementById('modalImage');
            const modalInfo = document.getElementById('info');
            const closeModalButton = document.getElementById('closeModal');

            // Filter Functionality
            filterButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const filter = button.getAttribute('data-filter');

                    // Update active button
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');

                    // Show/Hide Images
                    imageItems.forEach(item => {
                        if (item.classList.contains(filter)) {
                            item.classList.remove('hidden');
                        } else {
                            item.classList.add('hidden');
                        }
                    });
                });
            });

            // Modal Functionality
            imageItems.forEach(item => {
                const img = item.querySelector('img');
                const overlayText = item.querySelector('.overlay p'); // Get the <p> tag inside the overlay

                img.addEventListener('click', () => {
                    modalImage.src = img.src; // Set the image source
                    modalInfo.textContent = overlayText && overlayText.textContent.trim() ?
                        overlayText.textContent :
                        'No Info About the Picture Currently!';

                    imageModal.classList.remove('hidden'); // Show the modal
                });
            });

            // Close Modal
            closeModalButton.addEventListener('click', () => {
                imageModal.classList.add('hidden'); // Hide the modal
            });

            // Close Modal by clicking outside the modal content
            imageModal.addEventListener('click', (event) => {
                if (event.target === imageModal) {
                    imageModal.classList.add('hidden');
                }
            });
        });
    </script>
</x-layout>
